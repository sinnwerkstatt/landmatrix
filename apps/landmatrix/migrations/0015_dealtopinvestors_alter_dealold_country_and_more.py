# Generated by Django 5.0.2 on 2024-02-23 15:47

import apps.landmatrix.models.fields
import django.contrib.gis.db.models.fields
import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('landmatrix', '0014_rename_old_classes'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='DealTopInvestors',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ],
            options={
                'db_table': 'landmatrix_dealversion_top_investors',
                'managed': False,
            },
        ),
        migrations.AlterField(
            model_name='dealold',
            name='country',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='oldmodel_deals', to='landmatrix.country', verbose_name='Target country'),
        ),
        migrations.AlterField(
            model_name='dealold',
            name='former_land_cover',
            field=apps.landmatrix.models.fields.ArrayField(base_field=models.CharField(choices=[('CROPLAND', 'Cropland'), ('FOREST_LAND', 'Forest land'), ('PASTURE', 'Pasture'), ('RANGELAND', 'Shrub land/Grassland (Rangeland)'), ('MARGINAL_LAND', 'Marginal land'), ('WETLAND', 'Wetland'), ('OTHER_LAND', 'Other land (e.g. developed land)')]), blank=True, null=True, size=None, verbose_name='Former land cover'),
        ),
        migrations.AlterField(
            model_name='dealold',
            name='intended_size',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Intended size'),
        ),
        migrations.AlterField(
            model_name='investorold',
            name='classification',
            field=models.CharField(blank=True, choices=[('GOVERNMENT', 'Government'), ('GOVERNMENT_INSTITUTION', 'Government institution'), ('STATE_OWNED_COMPANY', 'State-/government (owned) company'), ('SEMI_STATE_OWNED_COMPANY', 'Semi state-owned company'), ('ASSET_MANAGEMENT_FIRM', 'Asset management firm'), ('BILATERAL_DEVELOPMENT_BANK', 'Bilateral Development Bank / Development Finance Institution'), ('STOCK_EXCHANGE_LISTED_COMPANY', 'Stock-exchange listed company'), ('COMMERCIAL_BANK', 'Commercial Bank'), ('INSURANCE_FIRM', 'Insurance firm'), ('INVESTMENT_BANK', 'Investment Bank'), ('INVESTMENT_FUND', 'Investment fund'), ('MULTILATERAL_DEVELOPMENT_BANK', 'Multilateral Development Bank (MDB)'), ('PRIVATE_COMPANY', 'Private company'), ('PRIVATE_EQUITY_FIRM', 'Private equity firm'), ('INDIVIDUAL_ENTREPRENEUR', 'Individual entrepreneur'), ('NON_PROFIT', 'Non - Profit organization (e.g. Church, University etc.)'), ('OTHER', 'Other')], null=True, verbose_name='Classification'),
        ),
        migrations.CreateModel(
            name='DealHull',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('deleted', models.BooleanField(default=False)),
                ('deleted_comment', models.TextField(blank=True)),
                ('first_created_at', models.DateTimeField()),
                ('confidential', models.BooleanField(default=False)),
                ('confidential_comment', models.TextField(blank=True, verbose_name='Comment why this deal is private')),
                ('fully_updated_at', models.DateTimeField(blank=True, null=True, verbose_name='Last full update')),
                ('country', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='deals', to='landmatrix.country', verbose_name='Target country')),
                ('first_created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='DealVersion',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('intended_size', apps.landmatrix.models.fields.DecimalIntField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Intended size')),
                ('contract_size', models.JSONField(blank=True, default=list)),
                ('production_size', models.JSONField(blank=True, default=list)),
                ('land_area_comment', models.TextField(blank=True, verbose_name='Comment on land area')),
                ('intention_of_investment', models.JSONField(blank=True, default=list)),
                ('intention_of_investment_comment', models.TextField(blank=True, verbose_name='Comment on intention of investment')),
                ('nature_of_deal', apps.landmatrix.models.fields.ChoiceArrayField(base_field=models.CharField(choices=[('OUTRIGHT_PURCHASE', 'Outright purchase'), ('LEASE', 'Lease'), ('CONCESSION', 'Concession'), ('EXPLOITATION_PERMIT', 'Exploitation permit / license / concession (for mineral resources)'), ('PURE_CONTRACT_FARMING', 'Pure contract farming'), ('OTHER', 'Other')]), blank=True, default=list, size=None, verbose_name='Nature of the deal')),
                ('nature_of_deal_comment', models.TextField(blank=True, verbose_name='Comment on nature of the deal')),
                ('negotiation_status', models.JSONField(blank=True, default=list, verbose_name='Negotiation status')),
                ('negotiation_status_comment', models.TextField(blank=True, verbose_name='Comment on negotiation status')),
                ('implementation_status', models.JSONField(blank=True, default=list, verbose_name='Implementation status')),
                ('implementation_status_comment', models.TextField(blank=True, verbose_name='Comment on implementation status')),
                ('purchase_price', apps.landmatrix.models.fields.DecimalIntField(blank=True, decimal_places=2, max_digits=18, null=True, verbose_name='Purchase price')),
                ('purchase_price_type', models.CharField(blank=True, choices=[('PER_HA', 'per ha'), ('PER_AREA', 'for specified area')], null=True, verbose_name='Purchase price area type')),
                ('purchase_price_area', apps.landmatrix.models.fields.DecimalIntField(blank=True, decimal_places=2, max_digits=18, null=True, verbose_name='Purchase price area')),
                ('purchase_price_comment', models.TextField(blank=True, verbose_name='Comment on purchase price')),
                ('annual_leasing_fee', apps.landmatrix.models.fields.DecimalIntField(blank=True, decimal_places=2, max_digits=18, null=True, verbose_name='Annual leasing fee')),
                ('annual_leasing_fee_type', models.CharField(blank=True, choices=[('PER_HA', 'per ha'), ('PER_AREA', 'for specified area')], null=True, verbose_name='Annual leasing fee area type')),
                ('annual_leasing_fee_area', apps.landmatrix.models.fields.DecimalIntField(blank=True, decimal_places=2, max_digits=18, null=True, verbose_name='Annual leasing fee area')),
                ('annual_leasing_fee_comment', models.TextField(blank=True, verbose_name='Comment on leasing fee')),
                ('contract_farming', models.BooleanField(null=True)),
                ('on_the_lease_state', models.BooleanField(null=True, verbose_name='On leased / purchased')),
                ('on_the_lease', models.JSONField(blank=True, default=list)),
                ('off_the_lease_state', models.BooleanField(null=True, verbose_name='Not on leased / purchased (out-grower)')),
                ('off_the_lease', models.JSONField(blank=True, default=list)),
                ('contract_farming_comment', models.TextField(blank=True, verbose_name='Comment on contract farming')),
                ('total_jobs_created', models.BooleanField(null=True, verbose_name='Jobs created (total)')),
                ('total_jobs_planned', models.IntegerField(blank=True, null=True, verbose_name='Planned number of jobs (total)')),
                ('total_jobs_planned_employees', models.IntegerField(blank=True, null=True, verbose_name='Planned employees (total)')),
                ('total_jobs_planned_daily_workers', models.IntegerField(blank=True, null=True, verbose_name='Planned daily/seasonal workers (total)')),
                ('total_jobs_current', models.JSONField(blank=True, default=list)),
                ('total_jobs_created_comment', models.TextField(blank=True, verbose_name='Comment on jobs created (total)')),
                ('foreign_jobs_created', models.BooleanField(null=True, verbose_name='Jobs created (foreign)')),
                ('foreign_jobs_planned', models.IntegerField(blank=True, null=True, verbose_name='Planned number of jobs (foreign)')),
                ('foreign_jobs_planned_employees', models.IntegerField(blank=True, null=True, verbose_name='Planned employees (foreign)')),
                ('foreign_jobs_planned_daily_workers', models.IntegerField(blank=True, null=True, verbose_name='Planned daily/seasonal workers (foreign)')),
                ('foreign_jobs_current', models.JSONField(blank=True, default=list)),
                ('foreign_jobs_created_comment', models.TextField(blank=True, verbose_name='Comment on jobs created (foreign)')),
                ('domestic_jobs_created', models.BooleanField(null=True, verbose_name='Jobs created (domestic)')),
                ('domestic_jobs_planned', models.IntegerField(blank=True, null=True, verbose_name='Planned number of jobs (domestic)')),
                ('domestic_jobs_planned_employees', models.IntegerField(blank=True, null=True, verbose_name='Planned employees (domestic)')),
                ('domestic_jobs_planned_daily_workers', models.IntegerField(blank=True, null=True, verbose_name='Planned daily/seasonal workers (domestic)')),
                ('domestic_jobs_current', models.JSONField(blank=True, default=list)),
                ('domestic_jobs_created_comment', models.TextField(blank=True, verbose_name='Comment on jobs created (domestic)')),
                ('involved_actors', models.JSONField(blank=True, default=list)),
                ('project_name', models.CharField(blank=True, verbose_name='Name of investment project')),
                ('investment_chain_comment', models.TextField(blank=True, verbose_name='Comment on investment chain')),
                ('name_of_community', apps.landmatrix.models.fields.ArrayField(base_field=models.CharField(), blank=True, default=list, size=None, verbose_name='Name of community')),
                ('name_of_indigenous_people', apps.landmatrix.models.fields.ArrayField(base_field=models.CharField(), blank=True, default=list, size=None, verbose_name='Name of indigenous people')),
                ('people_affected_comment', models.TextField(blank=True, verbose_name='Comment on communities / indigenous peoples affected')),
                ('recognition_status', apps.landmatrix.models.fields.ChoiceArrayField(base_field=models.CharField(choices=[('INDIGENOUS_RIGHTS_RECOGNIZED', 'Indigenous Peoples traditional or customary rights recognized by government'), ('INDIGENOUS_RIGHTS_NOT_RECOGNIZED', 'Indigenous Peoples traditional or customary rights not recognized by government'), ('COMMUNITY_RIGHTS_RECOGNIZED', 'Community traditional or customary rights recognized by government'), ('COMMUNITY_RIGHTS_NOT_RECOGNIZED', 'Community traditional or customary rights not recognized by government')]), blank=True, default=list, size=None, verbose_name='Recognition status of community land tenure')),
                ('recognition_status_comment', models.TextField(blank=True, verbose_name='Comment on recognition status of community land tenure')),
                ('community_consultation', models.CharField(blank=True, choices=[('NOT_CONSULTED', 'Not consulted'), ('LIMITED_CONSULTATION', 'Limited consultation'), ('FPIC', 'Free, Prior and Informed Consent (FPIC)'), ('OTHER', 'Other')], null=True, verbose_name='Community consultation')),
                ('community_consultation_comment', models.TextField(blank=True, verbose_name='Comment on consultation of local community')),
                ('community_reaction', models.CharField(blank=True, choices=[('CONSENT', 'Consent'), ('MIXED_REACTION', 'Mixed reaction'), ('REJECTION', 'Rejection')], null=True, verbose_name='Community reaction')),
                ('community_reaction_comment', models.TextField(blank=True, verbose_name='Comment on community reaction')),
                ('land_conflicts', models.BooleanField(null=True, verbose_name='Presence of land conflicts')),
                ('land_conflicts_comment', models.TextField(blank=True, verbose_name='Comment on presence of land conflicts')),
                ('displacement_of_people', models.BooleanField(null=True, verbose_name='Displacement of people')),
                ('displaced_people', models.IntegerField(blank=True, null=True, verbose_name='Number of people actually displaced')),
                ('displaced_households', models.IntegerField(blank=True, null=True, verbose_name='Number of households actually displaced')),
                ('displaced_people_from_community_land', models.IntegerField(blank=True, null=True, verbose_name='Number of people displaced out of their community land')),
                ('displaced_people_within_community_land', models.IntegerField(blank=True, null=True, verbose_name='Number of people displaced staying on community land')),
                ('displaced_households_from_fields', models.IntegerField(blank=True, null=True, verbose_name='Number of households displaced "only" from their agricultural fields')),
                ('displaced_people_on_completion', models.IntegerField(blank=True, null=True, verbose_name='Number of people facing displacement once project is fully implemented')),
                ('displacement_of_people_comment', models.TextField(blank=True, verbose_name='Comment on displacement of people')),
                ('negative_impacts', apps.landmatrix.models.fields.ChoiceArrayField(base_field=models.CharField(choices=[('ENVIRONMENTAL_DEGRADATION', 'Environmental degradation'), ('SOCIO_ECONOMIC', 'Socio-economic'), ('CULTURAL_LOSS', 'Cultural loss'), ('EVICTION', 'Eviction'), ('DISPLACEMENT', 'Displacement'), ('VIOLENCE', 'Violence'), ('OTHER', 'Other')]), blank=True, default=list, size=None, verbose_name='Negative impacts for local communities')),
                ('negative_impacts_comment', models.TextField(blank=True, verbose_name='Comment on negative impacts for local communities')),
                ('promised_compensation', models.TextField(blank=True, verbose_name='Promised compensation (e.g. for damages or resettlements)')),
                ('received_compensation', models.TextField(blank=True, verbose_name='Received compensation (e.g. for damages or resettlements)')),
                ('promised_benefits', apps.landmatrix.models.fields.ChoiceArrayField(base_field=models.CharField(choices=[('HEALTH', 'Health'), ('EDUCATION', 'Education'), ('PRODUCTIVE_INFRASTRUCTURE', 'Productive infrastructure (e.g. irrigation, tractors, machinery...)'), ('ROADS', 'Roads'), ('CAPACITY_BUILDING', 'Capacity building'), ('FINANCIAL_SUPPORT', 'Financial support'), ('COMMUNITY_SHARES', 'Community shares in the investment project'), ('OTHER', 'Other')]), blank=True, default=list, size=None, verbose_name='Promised benefits for local communities')),
                ('promised_benefits_comment', models.TextField(blank=True, verbose_name='Comment on promised benefits for local communities')),
                ('materialized_benefits', apps.landmatrix.models.fields.ChoiceArrayField(base_field=models.CharField(choices=[('HEALTH', 'Health'), ('EDUCATION', 'Education'), ('PRODUCTIVE_INFRASTRUCTURE', 'Productive infrastructure (e.g. irrigation, tractors, machinery...)'), ('ROADS', 'Roads'), ('CAPACITY_BUILDING', 'Capacity building'), ('FINANCIAL_SUPPORT', 'Financial support'), ('COMMUNITY_SHARES', 'Community shares in the investment project'), ('OTHER', 'Other')]), blank=True, default=list, size=None, verbose_name='Materialized benefits for local communities')),
                ('materialized_benefits_comment', models.TextField(blank=True, verbose_name='Comment on materialized benefits for local communities')),
                ('presence_of_organizations', models.TextField(blank=True, verbose_name='Presence of organizations and actions taken (e.g. farmer organizations, NGOs, etc.)')),
                ('former_land_owner', apps.landmatrix.models.fields.ChoiceArrayField(base_field=models.CharField(choices=[('STATE', 'State'), ('PRIVATE_SMALLHOLDERS', 'Private (smallholders)'), ('PRIVATE_LARGE_SCALE', 'Private (large-scale farm)'), ('COMMUNITY', 'Community'), ('INDIGENOUS_PEOPLE', 'Indigenous people'), ('OTHER', 'Other')]), blank=True, default=list, size=None, verbose_name='Former land owner')),
                ('former_land_owner_comment', models.TextField(blank=True, verbose_name='Comment on former land owner')),
                ('former_land_use', apps.landmatrix.models.fields.ChoiceArrayField(base_field=models.CharField(choices=[('COMMERCIAL_AGRICULTURE', 'Commercial (large-scale) agriculture'), ('SMALLHOLDER_AGRICULTURE', 'Smallholder agriculture'), ('SHIFTING_CULTIVATION', 'Shifting cultivation'), ('PASTORALISM', 'Pastoralism'), ('HUNTING_GATHERING', 'Hunting/Gathering'), ('FORESTRY', 'Forestry'), ('CONSERVATION', 'Conservation'), ('OTHER', 'Other')]), blank=True, default=list, size=None, verbose_name='Former land use')),
                ('former_land_use_comment', models.TextField(blank=True, verbose_name='Comment on former land use')),
                ('former_land_cover', apps.landmatrix.models.fields.ChoiceArrayField(base_field=models.CharField(choices=[('CROPLAND', 'Cropland'), ('FOREST_LAND', 'Forest land'), ('PASTURE', 'Pasture'), ('RANGELAND', 'Shrub land/Grassland (Rangeland)'), ('MARGINAL_LAND', 'Marginal land'), ('WETLAND', 'Wetland'), ('OTHER_LAND', 'Other land (e.g. developed land)')]), blank=True, default=list, size=None, verbose_name='Former land cover')),
                ('former_land_cover_comment', models.TextField(blank=True, verbose_name='Comment on former land cover')),
                ('crops', models.JSONField(blank=True, default=list, verbose_name='Crops area/yield/export')),
                ('crops_comment', models.TextField(blank=True, verbose_name='Comment on crops')),
                ('animals', models.JSONField(blank=True, default=list, verbose_name='Livestock area/yield/export')),
                ('animals_comment', models.TextField(blank=True, verbose_name='Comment on livestock')),
                ('mineral_resources', models.JSONField(blank=True, default=list, verbose_name='Mineral resources area/yield/export')),
                ('mineral_resources_comment', models.TextField(blank=True, verbose_name='Comment on mineral resources')),
                ('contract_farming_crops', models.JSONField(blank=True, default=list)),
                ('contract_farming_crops_comment', models.TextField(blank=True, verbose_name='Comment on contract farming crops')),
                ('contract_farming_animals', models.JSONField(blank=True, default=list)),
                ('contract_farming_animals_comment', models.TextField(blank=True, verbose_name='Comment on contract farming livestock')),
                ('electricity_generation', models.JSONField(blank=True, default=list, verbose_name='Electricity generation')),
                ('electricity_generation_comment', models.TextField(blank=True, verbose_name='Comment on electricity generation')),
                ('carbon_sequestration', models.JSONField(blank=True, default=list, verbose_name='Carbon Sequestration')),
                ('carbon_sequestration_comment', models.TextField(blank=True, verbose_name='Comment on carbon sequestration')),
                ('has_domestic_use', models.BooleanField(null=True, verbose_name='Has domestic use')),
                ('domestic_use', models.FloatField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Domestic use')),
                ('has_export', models.BooleanField(null=True, verbose_name='Has export')),
                ('export', models.FloatField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Export')),
                ('export_country1_ratio', models.FloatField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Country 1 ratio')),
                ('export_country2_ratio', models.FloatField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Country 2 ratio')),
                ('export_country3_ratio', models.FloatField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Country 3 ratio')),
                ('use_of_produce_comment', models.TextField(blank=True, verbose_name='Comment on use of produce')),
                ('in_country_processing', models.BooleanField(null=True, verbose_name='In country processing of produce')),
                ('in_country_processing_comment', models.TextField(blank=True, verbose_name='Comment on in country processing of produce')),
                ('in_country_processing_facilities', models.TextField(blank=True, verbose_name='Processing facilities / production infrastructure of the project (e.g. oil mill, ethanol distillery, biomass power plant etc.)')),
                ('in_country_end_products', models.TextField(blank=True, verbose_name='In-country end products of the project')),
                ('water_extraction_envisaged', models.BooleanField(null=True, verbose_name='Water extraction envisaged')),
                ('water_extraction_envisaged_comment', models.TextField(blank=True, verbose_name='Comment on water extraction envisaged')),
                ('source_of_water_extraction', apps.landmatrix.models.fields.ChoiceArrayField(base_field=models.CharField(choices=[('GROUNDWATER', 'Groundwater'), ('SURFACE_WATER', 'Surface water'), ('RIVER', 'River'), ('LAKE', 'Lake')]), blank=True, default=list, size=None, verbose_name='Source of water extraction')),
                ('source_of_water_extraction_comment', models.TextField(blank=True, verbose_name='Comment on source of water extraction')),
                ('how_much_do_investors_pay_comment', models.TextField(blank=True, verbose_name='Comment on how much do investors pay for water')),
                ('water_extraction_amount', models.IntegerField(blank=True, null=True, verbose_name='Water extraction amount')),
                ('water_extraction_amount_comment', models.TextField(blank=True, verbose_name='Comment on how much water is extracted')),
                ('use_of_irrigation_infrastructure', models.BooleanField(null=True, verbose_name='Use of irrigation infrastructure')),
                ('use_of_irrigation_infrastructure_comment', models.TextField(blank=True, verbose_name='Comment on use of irrigation infrastructure')),
                ('water_footprint', models.TextField(blank=True, verbose_name='Water footprint of the investment project')),
                ('gender_related_information', models.TextField(blank=True, verbose_name='Comment on gender-related info')),
                ('overall_comment', models.TextField(blank=True, verbose_name='Overall comment')),
                ('created_at', models.DateTimeField(verbose_name='Created at')),
                ('modified_at', models.DateTimeField(blank=True, null=True, verbose_name='Modified at')),
                ('sent_to_review_at', models.DateTimeField(blank=True, null=True, verbose_name='Sent to review at')),
                ('sent_to_activation_at', models.DateTimeField(blank=True, null=True, verbose_name='Reviewed at')),
                ('activated_at', models.DateTimeField(blank=True, null=True, verbose_name='Activated at')),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('REVIEW', 'Review'), ('ACTIVATION', 'Activation'), ('ACTIVATED', 'Activated')], default='DRAFT')),
                ('is_public', models.BooleanField(default=False)),
                ('has_known_investor', models.BooleanField(default=False)),
                ('current_contract_size', apps.landmatrix.models.fields.DecimalIntField(blank=True, decimal_places=2, max_digits=18, null=True, verbose_name='Current contract size')),
                ('current_production_size', apps.landmatrix.models.fields.DecimalIntField(blank=True, decimal_places=2, max_digits=18, null=True)),
                ('current_intention_of_investment', apps.landmatrix.models.fields.ChoiceArrayField(base_field=models.CharField(choices=[('BIOFUELS', 'Biomass for biofuels'), ('BIOMASS_ENERGY_GENERATION', 'Biomass for energy generation'), ('FODDER', 'Fodder'), ('FOOD_CROPS', 'Food crops'), ('LIVESTOCK', 'Livestock'), ('NON_FOOD_AGRICULTURE', 'Non-food agricultural commodities'), ('AGRICULTURE_UNSPECIFIED', 'Agriculture unspecified'), ('BIOMASS_ENERGY_PRODUCTION', 'Biomass for energy generation'), ('CARBON', 'For carbon sequestration/REDD'), ('FOREST_LOGGING', 'Forest logging / management for wood and fiber'), ('TIMBER_PLANTATION', 'Timber plantation for wood and fiber'), ('FORESTRY_UNSPECIFIED', 'Forestry unspecified'), ('SOLAR_PARK', 'Solar park'), ('WIND_FARM', 'Wind farm'), ('RENEWABLE_ENERGY', 'Renewable energy unspecified'), ('CONVERSATION', 'Conservation'), ('INDUSTRY', 'Industry'), ('LAND_SPECULATION', 'Land speculation'), ('MINING', 'Mining'), ('OIL_GAS_EXTRACTION', 'Oil / Gas extraction'), ('TOURISM', 'Tourism'), ('OTHER', 'Other')]), blank=True, default=list, size=None)),
                ('current_negotiation_status', models.CharField(blank=True, choices=[('EXPRESSION_OF_INTEREST', 'Intended (Expression of interest)'), ('UNDER_NEGOTIATION', 'Intended (Under negotiation)'), ('MEMORANDUM_OF_UNDERSTANDING', 'Intended (Memorandum of understanding)'), ('ORAL_AGREEMENT', 'Concluded (Oral Agreement)'), ('CONTRACT_SIGNED', 'Concluded (Contract signed)'), ('CHANGE_OF_OWNERSHIP', 'Concluded (Change of ownership)'), ('NEGOTIATIONS_FAILED', 'Failed (Negotiations failed)'), ('CONTRACT_CANCELED', 'Failed (Contract cancelled)'), ('CONTRACT_EXPIRED', 'Contract expired')], null=True)),
                ('current_implementation_status', models.CharField(blank=True, choices=[('PROJECT_NOT_STARTED', 'Project not started'), ('STARTUP_PHASE', 'Startup phase (no production)'), ('IN_OPERATION', 'In operation (production)'), ('PROJECT_ABANDONED', 'Project abandoned')], null=True)),
                ('current_crops', apps.landmatrix.models.fields.ArrayField(base_field=models.CharField(), blank=True, default=list, size=None)),
                ('current_animals', apps.landmatrix.models.fields.ArrayField(base_field=models.CharField(), blank=True, default=list, size=None)),
                ('current_mineral_resources', apps.landmatrix.models.fields.ArrayField(base_field=models.CharField(), blank=True, default=list, size=None)),
                ('current_electricity_generation', apps.landmatrix.models.fields.ArrayField(base_field=models.CharField(), blank=True, default=list, size=None)),
                ('current_carbon_sequestration', apps.landmatrix.models.fields.ArrayField(base_field=models.CharField(), blank=True, default=list, size=None)),
                ('deal_size', apps.landmatrix.models.fields.DecimalIntField(blank=True, decimal_places=2, max_digits=18, null=True)),
                ('initiation_year', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1970)])),
                ('forest_concession', models.BooleanField(default=False)),
                ('transnational', models.BooleanField(null=True)),
                ('fully_updated', models.BooleanField(default=False)),
                ('activated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('annual_leasing_fee_currency', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='landmatrix.currency', verbose_name='Annual leasing fee currency')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('deal', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='versions', to='landmatrix.dealhull')),
                ('export_country1', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='landmatrix.country', verbose_name='Country 1')),
                ('export_country2', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='landmatrix.country', verbose_name='Country 2')),
                ('export_country3', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='landmatrix.country', verbose_name='Country 3')),
                ('modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('purchase_price_currency', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='landmatrix.currency', verbose_name='Purchase price currency')),
                ('sent_to_activation_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('sent_to_review_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.AddField(
            model_name='dealhull',
            name='active_version',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='landmatrix.dealversion'),
        ),
        migrations.AddField(
            model_name='dealhull',
            name='draft_version',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='landmatrix.dealversion'),
        ),
        migrations.CreateModel(
            name='DealWorkflowInfo',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status_before', models.CharField(blank=True, choices=[('DRAFT', 'Draft'), ('REVIEW', 'Review'), ('ACTIVATION', 'Activation'), ('ACTIVATED', 'Activated')], null=True)),
                ('status_after', models.CharField(blank=True, choices=[('DRAFT', 'Draft'), ('REVIEW', 'Review'), ('ACTIVATION', 'Activation'), ('ACTIVATED', 'Activated')], null=True)),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now)),
                ('comment', models.TextField(blank=True)),
                ('replies', models.JSONField(default=list, null=True)),
                ('resolved', models.BooleanField(default=False)),
                ('deal', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='workflowinfos', to='landmatrix.dealhull')),
                ('deal_version', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='workflowinfos', to='landmatrix.dealversion')),
                ('from_user', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('to_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='InvestorHull',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('deleted', models.BooleanField(default=False)),
                ('deleted_comment', models.TextField(blank=True)),
                ('first_created_at', models.DateTimeField()),
                ('first_created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.AddField(
            model_name='dealversion',
            name='operating_company',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='dealversions', to='landmatrix.investorhull'),
        ),
        migrations.AddField(
            model_name='dealversion',
            name='parent_companies',
            field=models.ManyToManyField(blank=True, related_name='child_deals', to='landmatrix.investorhull', verbose_name='Parent companies'),
        ),
        migrations.AddField(
            model_name='dealversion',
            name='top_investors',
            field=models.ManyToManyField(blank=True, related_name='+', to='landmatrix.investorhull', verbose_name='Top parent companies'),
        ),
        migrations.CreateModel(
            name='InvestorVersion',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(verbose_name='Created at')),
                ('modified_at', models.DateTimeField(blank=True, null=True, verbose_name='Modified at')),
                ('sent_to_review_at', models.DateTimeField(blank=True, null=True, verbose_name='Sent to review at')),
                ('sent_to_activation_at', models.DateTimeField(blank=True, null=True, verbose_name='Reviewed at')),
                ('activated_at', models.DateTimeField(blank=True, null=True, verbose_name='Activated at')),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('REVIEW', 'Review'), ('ACTIVATION', 'Activation'), ('ACTIVATED', 'Activated')], default='DRAFT')),
                ('name', models.CharField(blank=True, verbose_name='Name')),
                ('name_unknown', models.BooleanField(default=False)),
                ('classification', models.CharField(blank=True, choices=[('GOVERNMENT', 'Government'), ('GOVERNMENT_INSTITUTION', 'Government institution'), ('STATE_OWNED_COMPANY', 'State-/government (owned) company'), ('SEMI_STATE_OWNED_COMPANY', 'Semi state-owned company'), ('ASSET_MANAGEMENT_FIRM', 'Asset management firm'), ('BILATERAL_DEVELOPMENT_BANK', 'Bilateral Development Bank / Development Finance Institution'), ('STOCK_EXCHANGE_LISTED_COMPANY', 'Stock-exchange listed company'), ('COMMERCIAL_BANK', 'Commercial Bank'), ('INSURANCE_FIRM', 'Insurance firm'), ('INVESTMENT_BANK', 'Investment Bank'), ('INVESTMENT_FUND', 'Investment fund'), ('MULTILATERAL_DEVELOPMENT_BANK', 'Multilateral Development Bank (MDB)'), ('PRIVATE_COMPANY', 'Private company'), ('PRIVATE_EQUITY_FIRM', 'Private equity firm'), ('INDIVIDUAL_ENTREPRENEUR', 'Individual entrepreneur'), ('NON_PROFIT', 'Non - Profit organization (e.g. Church, University etc.)'), ('OTHER', 'Other')], null=True, verbose_name='Classification')),
                ('homepage', models.URLField(blank=True, verbose_name='Investor homepage')),
                ('opencorporates', models.URLField(blank=True, verbose_name='Opencorporates link')),
                ('comment', models.TextField(blank=True, verbose_name='Comment')),
                ('involvements_snapshot', models.JSONField(blank=True, default=list)),
                ('activated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('country', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='landmatrix.country', verbose_name='Country of registration/origin')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('investor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='versions', to='landmatrix.investorhull')),
                ('modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('sent_to_activation_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('sent_to_review_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.AddField(
            model_name='investorhull',
            name='active_version',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='landmatrix.investorversion'),
        ),
        migrations.AddField(
            model_name='investorhull',
            name='draft_version',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='landmatrix.investorversion'),
        ),
        migrations.CreateModel(
            name='InvestorWorkflowInfo',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status_before', models.CharField(blank=True, choices=[('DRAFT', 'Draft'), ('REVIEW', 'Review'), ('ACTIVATION', 'Activation'), ('ACTIVATED', 'Activated')], null=True)),
                ('status_after', models.CharField(blank=True, choices=[('DRAFT', 'Draft'), ('REVIEW', 'Review'), ('ACTIVATION', 'Activation'), ('ACTIVATED', 'Activated')], null=True)),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now)),
                ('comment', models.TextField(blank=True)),
                ('replies', models.JSONField(default=list, null=True)),
                ('resolved', models.BooleanField(default=False)),
                ('from_user', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('investor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='workflowinfos', to='landmatrix.investorhull')),
                ('investor_version', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='workflowinfos', to='landmatrix.investorversion')),
                ('to_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Involvement',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(choices=[('PARENT', 'Parent company'), ('LENDER', 'Tertiary investor/lender')], verbose_name='Relation type')),
                ('investment_type', apps.landmatrix.models.fields.ChoiceArrayField(base_field=models.CharField(choices=[('EQUITY', 'Shares/Equity'), ('DEBT_FINANCING', 'Debt financing')]), blank=True, default=list, size=None, verbose_name='Investment type')),
                ('percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Ownership share')),
                ('loans_amount', models.FloatField(blank=True, null=True, verbose_name='Loan amount')),
                ('loans_date', apps.landmatrix.models.fields.LooseDateField(blank=True, max_length=10, null=True, verbose_name='Loan date')),
                ('parent_relation', models.CharField(blank=True, choices=[('SUBSIDIARY', 'Subsidiary of parent company'), ('LOCAL_BRANCH', 'Local branch of parent company'), ('JOINT_VENTURE', 'Joint venture of parent companies')], null=True, verbose_name='Parent relation')),
                ('comment', models.TextField(blank=True, verbose_name='Comment')),
                ('child_investor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='investors', to='landmatrix.investorhull', verbose_name='Venture Company')),
                ('loans_currency', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='landmatrix.currency', verbose_name='Loan currency')),
                ('parent_investor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='ventures', to='landmatrix.investorhull', verbose_name='Investor')),
            ],
            options={
                'verbose_name': 'Investor Venture Involvement',
                'verbose_name_plural': 'Investor Venture Involvements',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='Location',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nid', apps.landmatrix.models.fields.NanoIDField(db_index=True, max_length=15, verbose_name='ID')),
                ('level_of_accuracy', models.CharField(blank=True, choices=[('COUNTRY', 'Country'), ('ADMINISTRATIVE_REGION', 'Administrative region'), ('APPROXIMATE_LOCATION', 'Approximate location'), ('EXACT_LOCATION', 'Exact location'), ('COORDINATES', 'Coordinates')], verbose_name='Spatial accuracy level')),
                ('name', models.CharField(blank=True, verbose_name='Location')),
                ('point', django.contrib.gis.db.models.fields.PointField(blank=True, null=True, srid=4326, verbose_name='Point')),
                ('description', models.TextField(blank=True, verbose_name='Description')),
                ('facility_name', models.CharField(blank=True, verbose_name='Facility name')),
                ('comment', models.TextField(blank=True, verbose_name='Comment')),
                ('dealversion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='locations', to='landmatrix.dealversion')),
            ],
        ),
        migrations.CreateModel(
            name='Area',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('production_area', 'Production area'), ('contract_area', 'Contract area'), ('intended_area', 'Intended area')])),
                ('current', models.BooleanField(default=False)),
                ('date', apps.landmatrix.models.fields.LooseDateField(blank=True, max_length=10, null=True, verbose_name='Date')),
                ('area', django.contrib.gis.db.models.fields.MultiPolygonField(srid=4326)),
                ('location', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='areas', to='landmatrix.location')),
            ],
        ),
        migrations.CreateModel(
            name='DealDataSource',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nid', apps.landmatrix.models.fields.NanoIDField(db_index=True, max_length=15, verbose_name='ID')),
                ('type', models.CharField(choices=[('MEDIA_REPORT', 'Media report'), ('RESEARCH_PAPER_OR_POLICY_REPORT', 'Research Paper / Policy Report'), ('GOVERNMENT_SOURCES', 'Government sources'), ('COMPANY_SOURCES', 'Company sources'), ('CONTRACT', 'Contract'), ('CONTRACT_FARMING_AGREEMENT', 'Contract (contract farming agreement)'), ('PERSONAL_INFORMATION', 'Personal information'), ('CROWDSOURCING', 'Crowdsourcing'), ('OTHER', 'Other')], verbose_name='Type')),
                ('url', models.URLField(blank=True, max_length=5000, verbose_name='Url')),
                ('file', models.FileField(blank=True, max_length=3000, null=True, upload_to='', verbose_name='File')),
                ('file_not_public', models.BooleanField(default=False, verbose_name='Keep PDF not public')),
                ('publication_title', models.CharField(blank=True, verbose_name='Publication title')),
                ('date', apps.landmatrix.models.fields.LooseDateField(blank=True, max_length=10, null=True, verbose_name='Date')),
                ('name', models.CharField(blank=True, verbose_name='Name')),
                ('company', models.CharField(blank=True, verbose_name='Organisation')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='Email')),
                ('phone', models.CharField(blank=True, verbose_name='Phone')),
                ('includes_in_country_verified_information', models.BooleanField(blank=True, null=True, verbose_name='Includes in-country-verified information')),
                ('open_land_contracts_id', models.CharField(blank=True, verbose_name='Open Contracting ID')),
                ('comment', models.TextField(blank=True, verbose_name='Comment')),
                ('dealversion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='datasources', to='landmatrix.dealversion')),
            ],
            options={
                'indexes': [models.Index(fields=['dealversion', 'nid'], name='landmatrix__dealver_96b53a_idx')],
                'unique_together': {('dealversion', 'nid')},
            },
        ),
        migrations.CreateModel(
            name='Contract',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nid', apps.landmatrix.models.fields.NanoIDField(db_index=True, max_length=15, verbose_name='ID')),
                ('number', models.CharField(blank=True, verbose_name='Contract number')),
                ('date', apps.landmatrix.models.fields.LooseDateField(blank=True, max_length=10, null=True, verbose_name='Date')),
                ('expiration_date', apps.landmatrix.models.fields.LooseDateField(blank=True, max_length=10, null=True, verbose_name='Expiration date')),
                ('agreement_duration', models.IntegerField(blank=True, null=True, verbose_name='Duration of the agreement')),
                ('comment', models.TextField(blank=True, verbose_name='Comment')),
                ('dealversion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contracts', to='landmatrix.dealversion')),
            ],
            options={
                'indexes': [models.Index(fields=['dealversion', 'nid'], name='landmatrix__dealver_a039aa_idx')],
                'unique_together': {('dealversion', 'nid')},
            },
        ),
        migrations.CreateModel(
            name='InvestorDataSource',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nid', apps.landmatrix.models.fields.NanoIDField(db_index=True, max_length=15, verbose_name='ID')),
                ('type', models.CharField(choices=[('MEDIA_REPORT', 'Media report'), ('RESEARCH_PAPER_OR_POLICY_REPORT', 'Research Paper / Policy Report'), ('GOVERNMENT_SOURCES', 'Government sources'), ('COMPANY_SOURCES', 'Company sources'), ('CONTRACT', 'Contract'), ('CONTRACT_FARMING_AGREEMENT', 'Contract (contract farming agreement)'), ('PERSONAL_INFORMATION', 'Personal information'), ('CROWDSOURCING', 'Crowdsourcing'), ('OTHER', 'Other')], verbose_name='Type')),
                ('url', models.URLField(blank=True, max_length=5000, verbose_name='Url')),
                ('file', models.FileField(blank=True, max_length=3000, null=True, upload_to='', verbose_name='File')),
                ('file_not_public', models.BooleanField(default=False, verbose_name='Keep PDF not public')),
                ('publication_title', models.CharField(blank=True, verbose_name='Publication title')),
                ('date', apps.landmatrix.models.fields.LooseDateField(blank=True, max_length=10, null=True, verbose_name='Date')),
                ('name', models.CharField(blank=True, verbose_name='Name')),
                ('company', models.CharField(blank=True, verbose_name='Organisation')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='Email')),
                ('phone', models.CharField(blank=True, verbose_name='Phone')),
                ('includes_in_country_verified_information', models.BooleanField(blank=True, null=True, verbose_name='Includes in-country-verified information')),
                ('open_land_contracts_id', models.CharField(blank=True, verbose_name='Open Contracting ID')),
                ('comment', models.TextField(blank=True, verbose_name='Comment')),
                ('investorversion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='datasources', to='landmatrix.investorversion')),
            ],
            options={
                'indexes': [models.Index(fields=['investorversion', 'nid'], name='landmatrix__investo_4c0451_idx')],
                'unique_together': {('investorversion', 'nid')},
            },
        ),
        migrations.AddIndex(
            model_name='location',
            index=models.Index(fields=['dealversion', 'nid'], name='landmatrix__dealver_6650ed_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='location',
            unique_together={('dealversion', 'nid')},
        ),
    ]
